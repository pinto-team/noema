# ๐งญ ุฑุงูููุง ุขููุฒุด ูุบุฒ ูููุง (V0)

ุงู ุณูุฏ ุจุฑุง ููุดโูุง ููฺฉุงุฑ ู ูุฑุจุงู ุงูุณุงู ุชูู ุดุฏู ุงุณุช ุชุง ุจุฏุงููุฏ ยซูุบุฒ ูููุงยป ุฏุฑ ูุณุฎูโ
ูุนู ุงุฒ ฺู ูุงฺููโูุง ุณุงุฎุชู ุดุฏู ู ูุฑ ุจุฎุด ฺู ููุด ุฏุฑ ุงุฏฺฏุฑ ู ุฑูุชุงุฑ ุนุงูู ุงูุง ูโฺฉูุฏ.
ุจุง ุฎูุงูุฏู ุงู ุฑุงูููุง ูโุชูุงูุฏ ูุณุฑ ุฌุฑุงู ุฏุงุฏูุ ูุญู ุซุจุช ุชุฌุฑุจูโูุง ู ููุงุท ูุงุจู ฺฏุณุชุฑุด ุฑุง
ุจูโุณุฑุนุช ุจุดูุงุณุฏ.

## ฑ) ููุง ฺฉู ฺุฑุฎู ุญุณโุชุตููโุนูู

1. **Perception**: ูุชู ุฎุงู ฺฉุงุฑุจุฑ ุฑุง ุฏุฑุงูุช ูโฺฉูุฏุ ูุตุฏ (intent) ู ุขุฑฺฏููุงูโูุง ุฑุง ุงุฒ ุทุฑู
   `lang/parse.py` ุงุณุชุฎุฑุงุฌ ฺฉุฑุฏู ู ุขู ุฑุง ุจู ุจุฑุฏุงุฑูุง ููุงู (`Latent`) ูโูุฑุณุชุฏ.
2. **World / State**: ุจุฑุฏุงุฑ ููุงูโูุง ู ุญุงูุธูโ ฺฉูุชุงูโูุฏุช ุจู `world` ุง ุชูุฑุจ ูููุงู ุฏุฑ
   `app/main.py` ูโุฑุณุฏ ุชุง ูุถุนุช ุฏุฑูู (`State`) ุณุงุฎุชู ุดูุฏ.
3. **Control & Planning**: ูุงูุฒุฏูุง ฺฉูุด ุฏุฑ `control/*` (ุฏุฑ V0 ุจุดุชุฑ ุญุงูุช ุฑุฒุฑู) ุง fallback
   ุฏุงุฎู `NoemaCore` ุชููุฏ ูโุดููุฏ.
4. **Safety Shield**: ูุฑ ฺฉูุด ูพุดููุงุฏ ุจุง ููุงุนุฏ `safety/shield.py` ุจุฑุฑุณ ู ุฏุฑ ุตูุฑุช ูุงุฒ
   ุงุตูุงุญ ูโุดูุฏ.
5. **Skills & Tools**: ููุงุฑุชโูุง (`skills/*.py`) ุง ุงุจุฒุงุฑูุง ุซุจุชโุดุฏู ุฏุฑ `toolhub/registry.py`
   ุงุฌุฑุง ูโฺฏุฑุฏูุฏ.
6. **Value System**: ูพุงุฏุงุด ุฏุฑูู ู ุจุฑูู ุฏุฑ `value/reward.py` ุชุฑฺฉุจ ุดุฏู ู shaping ุงุนูุงู
   ูโุดูุฏ.
7. **Self-Model**: ุงุนุชูุงุฏ ู ุนุฏูโูุทุนุช ุงุฒ `selfmeta/*` ุจูโุฑูุฒ ูโูุงูุฏ ุชุง ุฑู ุชุตูู ุงุซุฑ ุจฺฏุฐุงุฑุฏ.
8. **Memory**: ฺฏุฐุงุฑ ฺฉุงูู (ูุดุงูุฏุงุชุ ฺฉูุดุ ูพุงุฏุงุด) ุฏุฑ `logs/episodes.jsonl` ู ุฏุฑ ุตูุฑุช ูุนุงู ุจูุฏู
   `memory/*` ุฐุฎุฑู ูโุดูุฏ.
9. **Sleep / Offline**: ูุงฺูู `sleep/offline.py` ูุธููโ ุชุซุจุช ุขููุงู ุฏุงุฏูโูุง ุฑุง ุจุฑุนูุฏู ุฏุงุฑุฏ.
10. **Environment**: ุญูููโ ูุชู `env/TextIOEnv` ูุฑูุฏ ฺฉุงุฑุจุฑุ ุฎุฑูุฌ ุนุงูู ู ุจุงุฒุฎูุฑุฏ ูุฑุจ ุฑุง
    ูุฏุฑุช ู ุฏุฑ `data/episodes/` ุซุจุช ูโฺฉูุฏ.

## ฒ) ููุดูโ ูุงูโูุง ู ูุงฺููโูุง ฺฉูุฏ

| ุจููฺฉ ูุบุฒ | ูุณุฑ | ุชูุถุญ ุนููฺฉุฑุฏ |
|-----------|-------|---------------|
| ูุณุชูโ ุงุตู | `app/main.py` | ฺฉูุงุณ `NoemaCore` ฺุฑุฎูโ ฺฉุงูู ูุดุงูุฏูโุจุฑูุงููโุฑุฒโุงุฌุฑุงโูพุงุฏุงุด ุฑุง ูพุงุฏู ูโฺฉูุฏ ู ุงุฒ ูุงฺููโูุง ุฏฺฏุฑ ุฏุฑ ุตูุฑุช ุฏุฑ ุฏุณุชุฑุณ ุจูุฏู ุงุณุชูุงุฏู ูโููุงุฏ. |
| ูุถุง ฺฉุงุฑ ุฌูุงู | `app/gws.py` | ุจูุฏุฌูโ ุชูุฌูุ ุญุงูุช (clarify/budget-tight) ู ingestion ุฑูุฏุงุฏูุง ูุฑุจ ุฑุง ููุงููฺฏ ูโฺฉูุฏ. |
| ุฑุงุจุท ูุฑุจ (ุฑูุฏุงุฏูุง) | `app/ui_teacher.py` | ุฌูุนโุขูุฑ ุฏุณุช ุฑูุฏุงุฏูุง ูุฑุจ (DEMOุ RULEุ TEST ู โฆ) ุฏุฑ `logs/teacher_events.jsonl`. |
| ุฑุงุจุท ุขููุฒุด ุชุนุงูู | `app/ui_training_env.py` | ฺฏูุชโูฺฏู ุฒูุฏู ุจุง `NoemaCore`ุ ุซุจุช ูพุงุฏุงุด ูุฑุจ ู ุซุจุช ูุฑ ฺฏุงู ุฏุฑ `env.TextIOEnv`. |
| ูุญุท ูุชู | `env/io_text.py` | ุฏุฑุงูุช ูพุงู ฺฉุงุฑุจุฑุ ูฺฏุงุดุช ุจุงุฒุฎูุฑุฏ ูุฑุจ ุจู `r_ext` ู ุฐุฎุฑูโ ูุฑ ฺฏุงู ุฏุฑ JSONL. |
| ุงุฏุฑุงฺฉ ุฒุจุงู | `lang/parse.py`, `lang/format.py` | ุชุดุฎุต intent/args ู ูุงูุจโุจูุฏ ูพุงุณุฎ. |
| ููุงุฑุชโูุง | `skills/*.py` | ูพุงุฏูโุณุงุฒ ฺฉูุดโูุง ุณุทุญ ุจุงูุง ูุงููุฏ `reply_greeting` ู `invoke_calc`. |
| ุฑุฌุณุชุฑ ุงุจุฒุงุฑ | `toolhub/registry.py`, `toolhub/verify.py` | ุชุนุฑู ุงุจุฒุงุฑูุง ุฏุฑ ุฏุณุชุฑุณ ู ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏ ุขูโูุง. |
| ุงูู | `safety/dsl.py`, `safety/shield.py` | ููุงุนุฏ DSL ุงูู ู ุณูพุฑ ุฒูุงูโุงุฌุฑุง ุจุฑุง ูุณุฏูุฏ ุง ุงุตูุงุญ ฺฉุฑุฏู ฺฉูุดโูุง. |
| ุณุณุชู ูพุงุฏุงุด | `value/reward.py`, `config/value.yaml` | ูุฒูโุฏู ูพุงุฏุงุด ุฏุฑูู/ุจุฑูู ู ุงุนูุงู shaping. |
| ุญุงูุธู | `memory/*` | ุฏุฑ ุตูุฑุช ูุนุงู ุดุฏูุ ุงูพุฒูุฏูุง ุฑุง ุณุงุฎุชโุงูุชู ุฐุฎุฑู ู ูุงฺฉุด ูโฺฉูุฏ. |
| ูุฏู ุฎูุฏ | `selfmeta/*` | ฺฉุงูุจุฑุงุณูู ุงุนุชูุงุฏ ู ูฺฏูโุฏุงุฑ ุจุฑุฏุงุฑ ูุถุนุช ุฏุฑูู. |
| ุฎูุงุจ/ุชุซุจุช | `sleep/offline.py` | ุจุงุฒูพุฎุด ู ุงุฏุบุงู ุชุฌุฑุจูโูุง ุฏุฑ ูุงุฒ ุขููุงู. |

## ณ) ูุญููโ ุงุณุชูุงุฏู ุงุฒ ูุญุท ุขููุฒุด ุชุนุงูู

1. ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง ุตูุญูโ Streamlit ุจุงุฒ ุดูุฏ:
   ```bash
   streamlit run app/ui_training_env.py
   ```
2. ุฏุฑ ููุงุฑ ฺฉูุงุฑุ ูุณุฑ ุฐุฎุฑูโ ุงูพุฒูุฏูุง (`episodes_root`) ู ููุฏุงุฑ ูพุงุฏุงุด ุจุฑุง ูพุงุณุฎ ูุจู
   (โ1ุ ฐ ุง +1) ุฑุง ุชุนู ฺฉูุฏ.
3. ูพุงู ฺฉุงุฑุจุฑ/ูุฑุจ ุฑุง ุฏุฑ ุจุงฺฉุณ ูพุงู ุตูุญู ุจููุณุฏ. ูพุด ุงุฒ ุงุฑุณุงู ูพุงู ุชุงุฒูุ ููุงุฑ ูพุงุฏุงุด ุฑุง
   ุฑู ุงุฑุฒุด ฺฉู ูโุฎูุงูุฏ ุจู ูพุงุณุฎ ูุจู ุจุฏูุฏ ุชูุธู ฺฉูุฏ.
4. ูพุณ ุงุฒ ุงุฑุณุงูุ ูููุง ูพุงุณุฎ ูโุฏูุฏุ ุฏุฑ ุจุงฺฉุณ ูุฑ ฺฏุงู ูโุชูุงูุฏ ุฌุฒุฆุงุช ุชุตูู (intentุ actionุ
   ุชุณุชโูุงุ ูุฒููโ ูุญุงุณุจูุ ูพุงุฏุงุดโูุง r_int/r_ext/r_total) ุฑุง ุฏุฑ expander ูุดุงูุฏู ฺฉูุฏ.
5. ุจุง ุฏฺฉููโ ยซ๐พ ุซุจุช ูพุงุฏุงุด ูพุงุณุฎ ูุนูยป ูโุชูุงูุฏ ุจุฏูู ุงุฑุณุงู ูพุงู ุฌุฏุฏ ูพุงุฏุงุด ุฑุง ุฐุฎุฑู ฺฉูุฏ.
   ูุฑ ุจุงุฑ ฺฉู ูพุงุฏุงุด ุฑุง ุซุจุช ูโฺฉูุฏุ `TextIOEnv` ฺฉ ุฑฺฉูุฑุฏ JSONL ุฏุฑ ูุณุฑ ุงูุชุฎุงุจ ูโููุณุฏ.

## ด) ูุณุฑูุง ุซุจุช ุชุฌุฑุจู ู ุจุงุฒุฎูุฑุฏ

- `data/episodes/ui_training/episodes.jsonl`: ูุงฺฏ ูุญุท ุขููุฒุด ฺฉู ุดุงูู ูุชุงุฏุชุง ุชุตูู ู
  ุจุงุฒุฎูุฑุฏ ูุฑุจ ุงุณุช (ูุงุจู ุชุบุฑ ุงุฒ ููุงุฑ ฺฉูุงุฑ UI).
- `logs/episodes.jsonl`: ูุงฺฏ ุฏุงุฎู `NoemaCore` ุงุฒ ฺฏุฐุงุฑูุง ู ูพุงุฏุงุดโูุง ูุญุงุณุจูโุดุฏู.
- `logs/teacher_events.jsonl`: ุฑูุฏุงุฏูุง ุณุงุฎุชุงุฑุงูุชูโ ูุฑุจ ุงุฒ ุทุฑู `app/ui_teacher.py` ุจุฑุง
  ูุงุฒ ุฎูุงุจ ุง ุขููุฒุด ุขููุงู.

## ต) ุชูุณุนูโูุง ูพุดููุงุฏ

- ุงูุฒูุฏู ููุงุฑุชโูุง ุฌุฏุฏ ุจู `skills/` ู ุซุจุช ุขูโูุง ุฏุฑ `skills/manifest.yaml` ุชุง ุฏุฑ UI ูุงุจู
  ูุดุงูุฏู ุจุงุดูุฏ.
- ูพุงุฏูโุณุงุฒ ูุงฺููโูุง ูุงูุน ุฏุฑ `control/` ู `world/` ู ุงุณุชูุงุฏู ุงุฒ ุฎุฑูุฌ ุขูโูุง ุฏุฑ
  `NoemaCore` (ฺฉู ุงฺฉููู ููุงุฏุฑ fallback ุฑุง ูฺฏู ูโุฏุงุฑุฏ).
- ุงุชุตุงู ุฑูุฏุงุฏูุง ูุฑุจ (`logs/teacher_events.jsonl`) ุจู ฺุฑุฎูโ ุฎูุงุจ (`sleep/offline.py`) ุจุฑุง
  ุจุงุฒุขููุฒ ููุงุฑุชโูุง ู ุจูโุฑูุฒุฑุณุงู ูุฒูโูุง ูพุงุฏุงุด.

ุจุง ุงู ุณุงุฎุชุงุฑ ูโุชูุงูุฏ ุฑูุชุงุฑ ูููุง ุฑุง ูุฏูโุจูโูุฏู ุชุญูู ู ุจูุจูุฏ ุฏูุฏุ ฺู ุฏุฑ ูุญุท ุชุนุงูู
ู ฺู ุฏุฑ ุขููุฒุด ุขููุงู ูุจุชู ุจุฑ ุฑูุฏุงุฏูุง ูุฑุจ.
